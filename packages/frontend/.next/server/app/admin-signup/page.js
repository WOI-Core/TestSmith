(()=>{var e={};e.id=459,e.ids=[459],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3244:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),s(5791),s(150),s(5005);var a=s(9244),r=s(3420),i=s(678),n=s.n(i),o=s(1651),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["admin-signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5791)),"/home/saramasathiphat/test-smith/packages/frontend/app/admin-signup/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,150)),"/home/saramasathiphat/test-smith/packages/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5005,23)),"next/dist/client/components/not-found-error"]}],u=["/home/saramasathiphat/test-smith/packages/frontend/app/admin-signup/page.tsx"],c="/admin-signup/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin-signup/page",pathname:"/admin-signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1591:(e,t,s)=>{Promise.resolve().then(s.bind(s,5514))},5981:(e,t,s)=>{"use strict";var a=s(1875);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},5514:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(2131),r=s(8559),i=s(1672),n=s(5981),o=s(3031),l=s(5971),d=s(3102),u=s(502),c=s(7830),p=s(946),m=s(268);function g(){let[e,t]=(0,r.useState)(""),[s,g]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[N,j]=(0,r.useState)(!1),{login:w}=(0,o.a)(),S=(0,n.useRouter)(),E=async t=>{t.preventDefault(),y(""),j(!0);try{let t=await l.h.auth.adminSignup({username:e,email:s,password:h,adminKey:x});if(t.success&&t.data)w(t.data.user,t.data.token),S.push("/admin");else throw Error(t.error||"Admin signup failed")}catch(e){y(e.message||"Failed to create admin account")}finally{j(!1)}};return a.jsx("div",{className:"flex justify-center items-center min-h-[calc(100vh-80px)] p-4",children:(0,a.jsxs)(u.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(u.Ol,{className:"text-center",children:[a.jsx(u.ll,{className:"text-2xl",children:"Admin Account Creation"}),a.jsx(u.SZ,{children:"For authorized personnel only"})]}),(0,a.jsxs)(u.aY,{children:[v&&a.jsx(m.bZ,{variant:"destructive",className:"mb-4",children:a.jsx(m.X,{children:v})}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p._,{htmlFor:"username",children:"Username"}),a.jsx(c.I,{id:"username",type:"text",placeholder:"admin_username",value:e,onChange:e=>t(e.target.value),required:!0,minLength:3,maxLength:30})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p._,{htmlFor:"email",children:"Email"}),a.jsx(c.I,{id:"email",type:"email",placeholder:"admin@company.com",value:s,onChange:e=>g(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p._,{htmlFor:"password",children:"Password"}),a.jsx(c.I,{id:"password",type:"password",placeholder:"Strong password (min 8 characters)",value:h,onChange:e=>f(e.target.value),required:!0,minLength:8})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p._,{htmlFor:"adminKey",children:"Admin Access Key"}),a.jsx(c.I,{id:"adminKey",type:"password",placeholder:"Enter admin access key",value:x,onChange:e=>b(e.target.value),required:!0})]}),a.jsx(d.z,{type:"submit",disabled:N,className:"w-full",children:N?"Creating Account...":"Create Admin Account"})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx(i.default,{href:"/signup",className:"text-sm text-blue-600 hover:underline",children:"Need a regular account? Sign up here"})})]})]})})}},268:(e,t,s)=>{"use strict";s.d(t,{Cd:()=>d,X:()=>u,bZ:()=>l});var a=s(2131),r=s(8559),i=s(8995),n=s(7094);let o=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=r.forwardRef(({className:e,variant:t,...s},r)=>a.jsx("div",{ref:r,role:"alert",className:(0,n.cn)(o({variant:t}),e),...s}));l.displayName="Alert";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let u=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));u.displayName="AlertDescription"},502:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>n,aY:()=>u,ll:()=>l});var a=s(2131),r=s(8559),i=s(7094);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let u=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));u.displayName="CardContent",r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},7830:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(2131),r=s(8559),i=s(7094);let n=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));n.displayName="Input"},946:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var a=s(2131),r=s(8559);s(6260);var i=s(2602),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,i.Z8)(`Primitive.${t}`),n=r.forwardRef((e,r)=>{let{asChild:i,...n}=e,o=i?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(o,{...n,ref:r})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),o=r.forwardRef((e,t)=>(0,a.jsx)(n.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var l=s(8995),d=s(7094);let u=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...t},s)=>a.jsx(o,{ref:s,className:(0,d.cn)(u(),e),...t}));c.displayName=o.displayName},5971:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});let a={BASE_URL:process.env.NEXT_PUBLIC_API_URL||"/api",ENDPOINTS:{AUTH:{LOGIN:"/api/auth/login",SIGNUP:"/api/auth/signup",LOGOUT:"/api/auth/logout"},PROBLEMS:{LIST:"/api/problems",SEARCH:"/api/problems/search",BY_ID:e=>`/api/problems/${e}`,FROM_STORAGE:"/api/problems/from-storage",SYNC:"/api/problems/sync-searchsmith"},SUBMISSIONS:{SUBMIT:"/api/submissions/submit",BY_USER:e=>`/api/submissions/user/${e}`,BY_ID:e=>`/api/submissions/${e}`},PROGRESS:{USER:e=>`/api/progress/${e}`},TOOLSMITH:{GENERATE:"/api/toolsmith"}}},r=e=>e.startsWith("/api")?e:`${a.BASE_URL}${e}`,i={DEFAULT_HEADERS:{"Content-Type":"application/json"},TIMEOUT:3e4};process.env.NEXT_PUBLIC_DEBUG;class n{constructor(){this.baseUrl=process.env.NEXT_PUBLIC_API_URL||"/api",this.defaultHeaders=i.DEFAULT_HEADERS}getAuthToken(){return null}buildHeaders(e){let t={...this.defaultHeaders,...e.headers};if(e.requireAuth){let e=this.getAuthToken();e&&(t.Authorization=`Bearer ${e}`)}return t}async handleResponse(e){try{let t;let s=e.headers.get("content-type");if(t=s&&s.includes("application/json")?await e.json():await e.text(),!e.ok)return{success:!1,error:t.error||t.message||`HTTP ${e.status}: ${e.statusText}`};return{success:!0,data:t.data||t,message:t.message}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to parse response"}}}async request(e,t={}){let{method:s="GET",body:a,timeout:n=i.TIMEOUT,requireAuth:o=!1}=t,l=e.startsWith("http")?e:r(e),d=this.buildHeaders(t);try{let e=new AbortController,t=setTimeout(()=>e.abort(),n),r={method:s,headers:d,signal:e.signal};a&&"GET"!==s&&(r.body="string"==typeof a?a:JSON.stringify(a));let i=await fetch(l,r);return clearTimeout(t),this.handleResponse(i)}catch(e){if(e instanceof Error){if("AbortError"===e.name)return{success:!1,error:"Request timeout"};return{success:!1,error:e.message}}return{success:!1,error:"Unknown error occurred"}}}async get(e,t=!1){return this.request(e,{method:"GET",requireAuth:t})}async post(e,t,s=!1){return this.request(e,{method:"POST",body:t,requireAuth:s})}async put(e,t,s=!0){return this.request(e,{method:"PUT",body:t,requireAuth:s})}async delete(e,t=!0){return this.request(e,{method:"DELETE",requireAuth:t})}async patch(e,t,s=!0){return this.request(e,{method:"PATCH",body:t,requireAuth:s})}}let o=new n,l={auth:{login:async(e,t)=>{let s=await o.post("/api/auth/login",{email:e,password:t});return s.success&&s.data.token&&localStorage.setItem("token",s.data.token),s},signup:async(e,t,s)=>{let a=await o.post("/api/auth/signup",{email:e,password:t,username:s});return a.success&&a.data.token&&localStorage.setItem("token",a.data.token),a},adminSignup:e=>o.post("/api/auth/admin-signup",e)},problems:{getAll:()=>o.get("/api/problems"),getById:e=>o.get(`/api/problems/details-from-storage/${e}`),search:e=>o.post("/api/problems/search",{query:e}),fromStorage:()=>o.get("/api/problems/from-storage")},submissions:{submit:e=>o.post("/api/submissions/submit",e,!0),getByUser:e=>o.get(`/api/submissions/user/${e}`,!0),getById:e=>o.get(`/api/submissions/${e}`,!0)},progress:{getByUser:e=>o.get(`/api/progress/${e}`,!0),getLeaderboard:()=>o.get("/api/progress/leaderboard",!0)}}},5791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=s(5123);let r=(0,a.createProxy)(String.raw`/home/saramasathiphat/test-smith/packages/frontend/app/admin-signup/page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let o=(0,a.createProxy)(String.raw`/home/saramasathiphat/test-smith/packages/frontend/app/admin-signup/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[850,28],()=>s(3244));module.exports=a})();