(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{2449:function(e,s,r){Promise.resolve().then(r.bind(r,7407))},7407:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return g}});var t=r(869),a=r(2338),l=r(8539),n=r(4201),i=r(6467),c=r(1725),d=r(669),o=r(8675),m=r(233),u=r(1022),x=r(300),f=r(6939),h=r(8455),p=r(7009);let b=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(f.fC,{ref:s,className:(0,p.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,t.jsx)(f.z$,{className:(0,p.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(h.Z,{className:"h-4 w-4"})})})});b.displayName=f.fC.displayName;var j=r(4938),N=r(9915);function g(){let[e,s]=(0,a.useState)([]),[r,f]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null),[g,v]=(0,a.useState)(""),[y,w]=(0,a.useState)(!0),[C,S]=(0,a.useState)(!1),[k,I]=(0,a.useState)(""),[R,T]=(0,a.useState)(""),[A,O]=(0,a.useState)(""),[Z,_]=(0,a.useState)([]),[E,F]=(0,a.useState)(!1),[P,D]=(0,a.useState)(!1),M=(0,a.useCallback)(async()=>{f(!0),p(null);try{let e;let r=await fetch("/api/problems/from-storage");if(!r.ok){let e=await r.text();throw Error("Failed to fetch problems. Server responded with status ".concat(r.status,": ").concat(e))}try{e=await r.json()}catch(e){throw console.error("Failed to parse JSON from /api/problems/from-storage:",e),Error("The API did not return valid JSON. Please check the backend endpoint to ensure it sends a correctly formatted JSON array.")}if(Array.isArray(e)){let r=e.map(e=>({...e,solvers:Math.floor(100*Math.random())+1,solved:Math.random()>.5}));s(r)}else throw console.warn("Received non-array data from storage API:",e),Error("The API did not return a JSON array as expected.")}catch(e){p(e.message)}finally{f(!1)}},[]);(0,a.useEffect)(()=>{M()},[M]);let Y=async()=>{if(A.trim()){F(!0),D(!0),p(null);try{let e=await fetch("/api/problems/searchsmith-results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:A,limit:10})});if(!e.ok)throw Error("AI search failed: ".concat(e.statusText));let s=((await e.json()).recommended_problems||[]).map(e=>{var s;return{id:e.problem_id||e.name,name:e.name,tags:e.tags||[],difficulty:e.difficulty||800,solvers:Math.floor(100*Math.random())+1,solved:Math.random()>.5,relevance:Math.floor(10*Math.random())+90,reason:"Relevant for practicing ".concat((null===(s=e.tags)||void 0===s?void 0:s[0])||"concepts","."),searchsmith_data:e}});_(s)}catch(e){console.error("AI Search failed:",e),p(e.message)}finally{F(!1)}}},z=e=>e<=1200?"text-gray-600":e<=1400?"text-green-600":e<=1600?"text-cyan-600":e<=1900?"text-blue-600":e<=2100?"text-purple-600":e<=2400?"text-yellow-600":"text-red-600",L=(P?Z:e).filter(e=>{let s=e.name?e.name.toLowerCase():"",r=e.id?e.id.toLowerCase():"",t=g.toLowerCase(),a=s.includes(t)||r.includes(t),l=!C||!e.solved,n=e.difficulty,i=k?Number.parseInt(k,10):Number.NEGATIVE_INFINITY,c=R?Number.parseInt(R,10):Number.POSITIVE_INFINITY;return a&&l&&n>=i&&n<=c});return r&&!e.length?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):h?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:(0,t.jsxs)(x.Zb,{className:"w-full max-w-lg border-red-200 bg-red-50",children:[(0,t.jsx)(x.Ol,{children:(0,t.jsxs)(x.ll,{className:"text-red-700 flex items-center",children:[(0,t.jsx)(n.Z,{className:"h-5 w-5 mr-2"}),"Error Loading Problems"]})}),(0,t.jsxs)(x.aY,{children:[(0,t.jsx)("p",{className:"text-red-600 font-mono bg-red-100 p-3 rounded-md",children:h}),(0,t.jsx)(m.z,{onClick:()=>M(),className:"mt-4 w-full",children:"Try Again"})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"w-full px-6 py-6",children:[(0,t.jsxs)(x.Zb,{className:"shadow-sm mb-6 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[(0,t.jsx)(x.Ol,{className:"pb-4",children:(0,t.jsxs)(x.ll,{className:"flex items-center",children:[(0,t.jsx)(i.Z,{className:"h-5 w-5 mr-2 text-purple-600"}),"SearchSmith",(0,t.jsx)(j.C,{variant:"outline",className:"ml-2 text-xs bg-purple-100 text-purple-600 border-purple-200",children:"AI Problem Finder"})]})}),(0,t.jsx)(x.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(u.I,{placeholder:"Describe what you want to practice...",value:A,onChange:e=>O(e.target.value),onKeyPress:e=>"Enter"===e.key&&Y(),className:"flex-1"}),(0,t.jsx)(m.z,{onClick:Y,disabled:E||!A.trim(),className:"bg-purple-600 hover:bg-purple-700",children:E?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,t.jsx)(c.Z,{className:"h-4 w-4"})})]}),P&&(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,t.jsx)("div",{className:"text-sm text-purple-700",children:E?"AI is finding relevant problems...":"Found ".concat(Z.length," problems")}),(0,t.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>D(!1),children:"Show All"})]})]})})]}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)(x.Zb,{className:"shadow-sm",children:[(0,t.jsx)(x.Ol,{className:"pb-4",children:(0,t.jsxs)(x.ll,{className:"text-xl font-semibold",children:[P?"AI Recommended Problems":"Problems"," (",L.length,")"]})}),(0,t.jsx)(x.aY,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(N.iA,{className:"w-full",children:[(0,t.jsx)(N.xD,{children:(0,t.jsxs)(N.SC,{className:"bg-gray-50",children:[(0,t.jsx)(N.ss,{className:"w-20",children:"#"}),(0,t.jsx)(N.ss,{children:"Name"}),P&&(0,t.jsx)(N.ss,{className:"w-24 text-center",children:"Match"}),(0,t.jsx)(N.ss,{className:"w-24 text-center",children:"Difficulty"}),(0,t.jsx)(N.ss,{className:"w-24 text-center",children:"Solvers"})]})}),(0,t.jsx)(N.RM,{children:L.length>0?L.map(e=>(0,t.jsxs)(N.SC,{children:[(0,t.jsx)(N.pj,{className:"font-medium",children:(0,t.jsx)(l.default,{href:"/problem?id=".concat(e.id),className:"text-blue-600 hover:underline",children:e.id})}),(0,t.jsx)(N.pj,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)(l.default,{href:"/problem?id=".concat(e.id),className:"text-blue-600 hover:underline font-medium",children:e.name}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e},s))}),P&&e.reason&&(0,t.jsxs)("div",{className:"text-xs text-purple-600 bg-purple-50 px-2 py-1 rounded mt-1",children:["\uD83D\uDCA1 ",e.reason]})]})}),P&&(0,t.jsx)(N.pj,{className:"text-center",children:(0,t.jsxs)(j.C,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[e.relevance,"%"]})}),(0,t.jsx)(N.pj,{className:"text-center font-medium ".concat(z(e.difficulty)),children:e.difficulty}),(0,t.jsx)(N.pj,{className:"text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-sm text-blue-600",children:["x",e.solvers||0]})]})})]},e.id)):(0,t.jsx)(N.SC,{children:(0,t.jsx)(N.pj,{colSpan:P?5:4,className:"text-center h-24 text-gray-500",children:"No problems found."})})})]})})})]})}),(0,t.jsxs)("div",{className:"w-80 flex-shrink-0 space-y-4",children:[(0,t.jsxs)(x.Zb,{className:"border-blue-200 bg-blue-50",children:[(0,t.jsx)(x.Ol,{className:"pb-3",children:(0,t.jsxs)(x.ll,{className:"text-sm font-medium text-blue-800 flex items-center",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"Pay attention"]})}),(0,t.jsx)(x.aY,{className:"pt-0",children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium text-blue-900 mb-1",children:"Before contest"}),(0,t.jsx)(l.default,{href:"#",className:"text-blue-600 hover:underline",children:"Codeforces Round (Div. 1 + Div. 2)"}),(0,t.jsx)("div",{className:"text-xs text-blue-700 mt-1",children:"10 days"})]})})]}),(0,t.jsxs)(x.Zb,{children:[(0,t.jsx)(x.Ol,{className:"pb-3",children:(0,t.jsx)(x.ll,{className:"text-sm font-medium",children:"Filter"})}),(0,t.jsxs)(x.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Search:"}),(0,t.jsx)(u.I,{placeholder:"Name or ID",value:g,onChange:e=>v(e.target.value),className:"h-8"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty:"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.I,{placeholder:"From",value:k,onChange:e=>I(e.target.value),className:"h-8 flex-1"}),(0,t.jsx)("span",{className:"text-sm",children:"â€”"}),(0,t.jsx)(u.I,{placeholder:"To",value:R,onChange:e=>T(e.target.value),className:"h-8 flex-1"})]})]})]})]}),(0,t.jsxs)(x.Zb,{children:[(0,t.jsx)(x.Ol,{className:"pb-3",children:(0,t.jsx)(x.ll,{className:"text-sm font-medium",children:"Settings"})}),(0,t.jsxs)(x.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{id:"show-tags",checked:y,onCheckedChange:e=>w(!!e)}),(0,t.jsx)("label",{htmlFor:"show-tags",className:"text-sm",children:"Show tags for unsolved"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{id:"hide-solved",checked:C,onCheckedChange:e=>S(!!e)}),(0,t.jsx)("label",{htmlFor:"hide-solved",className:"text-sm",children:"Hide solved"})]})]})]}),(0,t.jsxs)(x.Zb,{children:[(0,t.jsx)(x.Ol,{className:"pb-3",children:(0,t.jsxs)(x.ll,{className:"text-sm font-medium flex items-center",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"Last unsolved"]})}),(0,t.jsx)(x.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs font-medium text-gray-600",children:[(0,t.jsx)("span",{children:"#"}),(0,t.jsx)("span",{children:"Name"}),(0,t.jsx)("span",{children:"Last submission"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"372A"}),(0,t.jsx)(l.default,{href:"#",className:"text-blue-600 hover:underline flex-1 mx-2 truncate",children:"Counting Kangaroos is Fun"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"309986550"})]})]})})]})]})]})]})})}},4938:function(e,s,r){"use strict";r.d(s,{C:function(){return i}});var t=r(869);r(2338);var a=r(2067),l=r(7009);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:r}),s),...a})}},233:function(e,s,r){"use strict";r.d(s,{z:function(){return d}});var t=r(869),a=r(2338),l=r(9071),n=r(2067),i=r(7009);let c=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:r,variant:a,size:n,asChild:d=!1,...o}=e,m=d?l.g7:"button";return(0,t.jsx)(m,{className:(0,i.cn)(c({variant:a,size:n,className:r})),ref:s,...o})});d.displayName="Button"},300:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var t=r(869),a=r(2338),l=r(7009);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},1022:function(e,s,r){"use strict";r.d(s,{I:function(){return n}});var t=r(869),a=r(2338),l=r(7009);let n=a.forwardRef((e,s)=>{let{className:r,type:a,...n}=e;return(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...n})});n.displayName="Input"},9915:function(e,s,r){"use strict";r.d(s,{RM:function(){return c},SC:function(){return d},iA:function(){return n},pj:function(){return m},ss:function(){return o},xD:function(){return i}});var t=r(869),a=r(2338),l=r(7009);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});n.displayName="Table";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",r),...a})});i.displayName="TableHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});d.displayName="TableRow";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});o.displayName="TableHead";let m=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},7009:function(e,s,r){"use strict";r.d(s,{cn:function(){return l}});var t=r(3569),a=r(171);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m6)((0,t.W)(s))}}},function(e){e.O(0,[468,539,364,486,531,803,744],function(){return e(e.s=2449)}),_N_E=e.O()}]);