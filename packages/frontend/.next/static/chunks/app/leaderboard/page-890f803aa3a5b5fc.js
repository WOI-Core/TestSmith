(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{8302:function(e,t,r){Promise.resolve().then(r.bind(r,6459))},4527:function(e,t,r){"use strict";var s,n;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(4111)},4111:function(e){!function(){var t={229:function(e){var t,r,s,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=i(d);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||i(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function s(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},o=!0;try{t[e](a,a.exports,s),o=!1}finally{o&&delete r[e]}return a.exports}s.ab="//";var n=s(229);e.exports=n}()},6459:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(869),n=r(2338),a=r(300),o=r(9915),i=r(8539),l=r(3073);function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),[u,d]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async function(){c(!0);try{let e=await l.h.progress.getLeaderboard();if(e.success){let r=e.data||e;if(Array.isArray(r))t(r);else throw console.error("Unexpected API response structure:",e),Error("Invalid leaderboard data format")}else throw Error(e.error||"Failed to fetch leaderboard data")}catch(e){d(e.message||"Failed to fetch leaderboard")}finally{c(!1)}})()},[]),r)?(0,s.jsx)("div",{className:"text-center py-10",children:"Loading leaderboard..."}):u?(0,s.jsxs)("div",{className:"text-red-500 text-center py-10",children:["Error: ",u]}):(0,s.jsx)("div",{className:"container mx-auto p-4",children:(0,s.jsxs)(a.Zb,{children:[(0,s.jsx)(a.Ol,{children:(0,s.jsx)(a.ll,{className:"text-2xl font-bold text-center",children:"Leaderboard"})}),(0,s.jsx)(a.aY,{children:(0,s.jsxs)(o.iA,{children:[(0,s.jsx)(o.xD,{children:(0,s.jsxs)(o.SC,{children:[(0,s.jsx)(o.ss,{className:"w-[100px]",children:"Rank"}),(0,s.jsx)(o.ss,{children:"User"}),(0,s.jsx)(o.ss,{className:"text-right",children:"Problems Solved"})]})}),(0,s.jsx)(o.RM,{children:e.map(e=>(0,s.jsxs)(o.SC,{children:[(0,s.jsx)(o.pj,{className:"font-medium",children:e.rank}),(0,s.jsx)(o.pj,{children:(0,s.jsx)(i.default,{href:"/profile/".concat(e.username),className:"text-blue-600 hover:underline",children:e.username})}),(0,s.jsx)(o.pj,{className:"text-right",children:e.problems_solved})]},e.rank))})]})})]})})}},300:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return o},aY:function(){return u},ll:function(){return l}});var s=r(869),n=r(2338),a=r(7009);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});u.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9915:function(e,t,r){"use strict";r.d(t,{RM:function(){return l},SC:function(){return c},iA:function(){return o},pj:function(){return d},ss:function(){return u},xD:function(){return i}});var s=r(869),n=r(2338),a=r(7009);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...n})})});o.displayName="Table";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",r),...n})});i.displayName="TableHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...n})});l.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});c.displayName="TableRow";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableHead";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});d.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"},3073:function(e,t,r){"use strict";r.d(t,{h:function(){return u}});var s=r(4527);let n={BASE_URL:s.env.NEXT_PUBLIC_API_URL||"/api",ENDPOINTS:{AUTH:{LOGIN:"/api/auth/login",SIGNUP:"/api/auth/signup",LOGOUT:"/api/auth/logout"},PROBLEMS:{LIST:"/api/problems",SEARCH:"/api/problems/search",BY_ID:e=>"/api/problems/".concat(e),FROM_STORAGE:"/api/problems/from-storage",SYNC:"/api/problems/sync-searchsmith"},SUBMISSIONS:{SUBMIT:"/api/submissions/submit",BY_USER:e=>"/api/submissions/user/".concat(e),BY_ID:e=>"/api/submissions/".concat(e)},PROGRESS:{USER:e=>"/api/progress/".concat(e)},TOOLSMITH:{GENERATE:"/api/toolsmith"}}},a=e=>e.startsWith("/api")?e:"".concat(n.BASE_URL).concat(e),o={"Content-Type":"application/json"};s.env.NEXT_PUBLIC_DEBUG;var i=r(4527);class l{getAuthToken(){return localStorage.getItem("token")}buildHeaders(e){let t={...this.defaultHeaders,...e.headers};if(e.requireAuth){let e=this.getAuthToken();e&&(t.Authorization="Bearer ".concat(e))}return t}async handleResponse(e){try{let t;let r=e.headers.get("content-type");if(t=r&&r.includes("application/json")?await e.json():await e.text(),!e.ok)return{success:!1,error:t.error||t.message||"HTTP ".concat(e.status,": ").concat(e.statusText)};return{success:!0,data:t.data||t,message:t.message}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to parse response"}}}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:r="GET",body:s,timeout:n=3e4,requireAuth:o=!1}=t,i=e.startsWith("http")?e:a(e),l=this.buildHeaders(t);try{let e=new AbortController,t=setTimeout(()=>e.abort(),n),a={method:r,headers:l,signal:e.signal};s&&"GET"!==r&&(a.body="string"==typeof s?s:JSON.stringify(s));let o=await fetch(i,a);return clearTimeout(t),this.handleResponse(o)}catch(e){if(e instanceof Error){if("AbortError"===e.name)return{success:!1,error:"Request timeout"};return{success:!1,error:e.message}}return{success:!1,error:"Unknown error occurred"}}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(e,{method:"GET",requireAuth:t})}async post(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request(e,{method:"POST",body:t,requireAuth:r})}async put(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this.request(e,{method:"PUT",body:t,requireAuth:r})}async delete(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.request(e,{method:"DELETE",requireAuth:t})}async patch(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this.request(e,{method:"PATCH",body:t,requireAuth:r})}constructor(){this.baseUrl=i.env.NEXT_PUBLIC_API_URL||"/api",this.defaultHeaders=o}}let c=new l,u={auth:{login:async(e,t)=>{let r=await c.post("/api/auth/login",{email:e,password:t});return r.success&&r.data.token&&localStorage.setItem("token",r.data.token),r},signup:async(e,t,r)=>{let s=await c.post("/api/auth/signup",{email:e,password:t,username:r});return s.success&&s.data.token&&localStorage.setItem("token",s.data.token),s},adminSignup:e=>c.post("/api/auth/admin-signup",e)},problems:{getAll:()=>c.get("/api/problems"),getById:e=>c.get("/api/problems/details-from-storage/".concat(e)),search:e=>c.post("/api/problems/search",{query:e}),fromStorage:()=>c.get("/api/problems/from-storage")},submissions:{submit:e=>c.post("/api/submissions/submit",e,!0),getByUser:e=>c.get("/api/submissions/user/".concat(e),!0),getById:e=>c.get("/api/submissions/".concat(e),!0)},progress:{getByUser:e=>c.get("/api/progress/".concat(e),!0),getLeaderboard:()=>c.get("/api/progress/leaderboard",!0)}}},7009:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(3569),n=r(171);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[468,539,531,803,744],function(){return e(e.s=8302)}),_N_E=e.O()}]);