(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{453:function(e,t,r){Promise.resolve().then(r.bind(r,2865))},5565:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(2338);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...o,width:n,height:n,stroke:r,strokeWidth:l?24*Number(i)/Number(n):i,className:a("lucide",c),...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,s.forwardRef)((r,o)=>{let{className:l,...c}=r;return(0,s.createElement)(i,{ref:o,iconNode:t,className:a("lucide-".concat(n(e)),l),...c})});return r.displayName="".concat(e),r}},510:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5565).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9485:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5565).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1470:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5565).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1253:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5565).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4421:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(5565).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4527:function(e,t,r){"use strict";var s,n;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(4111)},4111:function(e){!function(){var t={229:function(e){var t,r,s,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&m())}function m(){if(!c){var e=i(d);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||c||i(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function s(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},o=!0;try{t[e](a,a.exports,s),o=!1}finally{o&&delete r[e]}return a.exports}s.ab="//";var n=s(229);e.exports=n}()},6364:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return i}});var s=r(869),n=r(2338);let a=(0,n.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,n.useState)(null),[i,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{try{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&l(e),t&&"undefined"!==t&&o(JSON.parse(t))}catch(e){console.error("Failed to parse user from localStorage",e),localStorage.removeItem("user"),localStorage.removeItem("token")}},[]),(0,s.jsx)(a.Provider,{value:{user:r,token:i,login:(e,t)=>{console.log("User received in login:",e),o(e),l(t),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",t)},logout:()=>{o(null),l(null),localStorage.removeItem("user"),localStorage.removeItem("token")},isAuthenticated:!!i},children:t})},i=()=>{let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2865:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(869),n=r(2338),a=r(6364),o=r(300),i=r(9915),l=r(4938),c=r(9485),u=r(1470),d=r(1253),m=r(510),f=r(4421),p=r(8539),h=r(3073);function g(){let[e,t]=(0,n.useState)([]),[r,g]=(0,n.useState)(!0),[x,y]=(0,n.useState)(null),{user:v}=(0,a.a)();(0,n.useEffect)(()=>{v&&v.id?(async()=>{g(!0),y(null);try{let e=await h.h.submissions.getByUser(v.id);if(e.success)t(e.data||[]);else throw Error(e.error||"Failed to fetch submissions")}catch(e){y(e.message||"Failed to fetch submissions")}finally{g(!1)}})():g(!1)},[v]);let b=e=>{switch(e){case"Accepted":return(0,s.jsx)(c.Z,{className:"h-4 w-4 text-green-500"});case"Wrong Answer":return(0,s.jsx)(u.Z,{className:"h-4 w-4 text-red-500"});case"Time Limit Exceeded":return(0,s.jsx)(d.Z,{className:"h-4 w-4 text-orange-500"});case"Compilation Error":case"Runtime Error":case"Memory Limit Exceeded":return(0,s.jsx)(m.Z,{className:"h-4 w-4 text-red-500"});default:return(0,s.jsx)(f.Z,{className:"h-4 w-4 animate-spin"})}},j=e=>{switch(e){case"Accepted":return"bg-green-100 text-green-800";case"Wrong Answer":case"Compilation Error":case"Runtime Error":case"Memory Limit Exceeded":return"bg-red-100 text-red-800";case"Time Limit Exceeded":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return r?(0,s.jsx)("div",{className:"text-center py-10",children:"Loading submissions..."}):x?(0,s.jsx)("div",{className:"text-red-500 text-center py-10",children:x}):v?(0,s.jsx)("div",{className:"container mx-auto p-4",children:(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{className:"text-2xl font-bold",children:"My Submissions"})}),(0,s.jsx)(o.aY,{children:(0,s.jsxs)(i.iA,{children:[(0,s.jsx)(i.xD,{children:(0,s.jsxs)(i.SC,{children:[(0,s.jsx)(i.ss,{children:"Problem"}),(0,s.jsx)(i.ss,{children:"Language"}),(0,s.jsx)(i.ss,{children:"Status"}),(0,s.jsx)(i.ss,{children:"Test Cases"}),(0,s.jsx)(i.ss,{children:"Performance"}),(0,s.jsx)(i.ss,{children:"Submitted At"})]})}),(0,s.jsx)(i.RM,{children:e.length>0?e.map(e=>(0,s.jsxs)(i.SC,{children:[(0,s.jsx)(i.pj,{children:(0,s.jsx)(p.default,{href:"/problem?id=".concat(e.problem_id),className:"text-blue-600 hover:underline",children:e.problem_id})}),(0,s.jsx)(i.pj,{children:e.language}),(0,s.jsx)(i.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[b(e.status),(0,s.jsx)(l.C,{className:j(e.status),children:e.status})]})}),(0,s.jsx)(i.pj,{children:e.total_test_cases>0?(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"text-green-600",children:e.passed_test_cases}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("span",{children:e.total_test_cases})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[Math.round(e.passed_test_cases/e.total_test_cases*100),"% passed"]})]}):(0,s.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,s.jsx)(i.pj,{children:e.execution_time>0?(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsxs)("div",{children:[e.execution_time.toFixed(3),"s"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[(e.memory_used/1024).toFixed(1),"MB"]})]}):(0,s.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,s.jsx)(i.pj,{children:new Date(e.created_at).toLocaleString()})]},e.id)):(0,s.jsx)(i.SC,{children:(0,s.jsx)(i.pj,{colSpan:6,className:"text-center",children:"No submissions found."})})})]})})]})}):(0,s.jsx)("div",{className:"text-center py-10",children:"Please log in to view your submissions."})}},4938:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var s=r(869);r(2338);var n=r(2067),a=r(7009);let o=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(o({variant:r}),t),...n})}},300:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return o},aY:function(){return u},ll:function(){return l}});var s=r(869),n=r(2338),a=r(7009);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});u.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9915:function(e,t,r){"use strict";r.d(t,{RM:function(){return l},SC:function(){return c},iA:function(){return o},pj:function(){return d},ss:function(){return u},xD:function(){return i}});var s=r(869),n=r(2338),a=r(7009);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...n})})});o.displayName="Table";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",r),...n})});i.displayName="TableHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...n})});l.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});c.displayName="TableRow";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableHead";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});d.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"},3073:function(e,t,r){"use strict";r.d(t,{h:function(){return u}});var s=r(4527);let n={BASE_URL:s.env.NEXT_PUBLIC_API_URL||"/api",ENDPOINTS:{AUTH:{LOGIN:"/api/auth/login",SIGNUP:"/api/auth/signup",LOGOUT:"/api/auth/logout"},PROBLEMS:{LIST:"/api/problems",SEARCH:"/api/problems/search",BY_ID:e=>"/api/problems/".concat(e),FROM_STORAGE:"/api/problems/from-storage",SYNC:"/api/problems/sync-searchsmith"},SUBMISSIONS:{SUBMIT:"/api/submissions/submit",BY_USER:e=>"/api/submissions/user/".concat(e),BY_ID:e=>"/api/submissions/".concat(e)},PROGRESS:{USER:e=>"/api/progress/".concat(e)},TOOLSMITH:{GENERATE:"/api/toolsmith"}}},a=e=>e.startsWith("/api")?e:"".concat(n.BASE_URL).concat(e),o={"Content-Type":"application/json"};s.env.NEXT_PUBLIC_DEBUG;var i=r(4527);class l{getAuthToken(){return localStorage.getItem("token")}buildHeaders(e){let t={...this.defaultHeaders,...e.headers};if(e.requireAuth){let e=this.getAuthToken();e&&(t.Authorization="Bearer ".concat(e))}return t}async handleResponse(e){try{let t;let r=e.headers.get("content-type");if(t=r&&r.includes("application/json")?await e.json():await e.text(),!e.ok)return{success:!1,error:t.error||t.message||"HTTP ".concat(e.status,": ").concat(e.statusText)};return{success:!0,data:t.data||t,message:t.message}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to parse response"}}}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:r="GET",body:s,timeout:n=3e4,requireAuth:o=!1}=t,i=e.startsWith("http")?e:a(e),l=this.buildHeaders(t);try{let e=new AbortController,t=setTimeout(()=>e.abort(),n),a={method:r,headers:l,signal:e.signal};s&&"GET"!==r&&(a.body="string"==typeof s?s:JSON.stringify(s));let o=await fetch(i,a);return clearTimeout(t),this.handleResponse(o)}catch(e){if(e instanceof Error){if("AbortError"===e.name)return{success:!1,error:"Request timeout"};return{success:!1,error:e.message}}return{success:!1,error:"Unknown error occurred"}}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(e,{method:"GET",requireAuth:t})}async post(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request(e,{method:"POST",body:t,requireAuth:r})}async put(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this.request(e,{method:"PUT",body:t,requireAuth:r})}async delete(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.request(e,{method:"DELETE",requireAuth:t})}async patch(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this.request(e,{method:"PATCH",body:t,requireAuth:r})}constructor(){this.baseUrl=i.env.NEXT_PUBLIC_API_URL||"/api",this.defaultHeaders=o}}let c=new l,u={auth:{login:async(e,t)=>{let r=await c.post("/api/auth/login",{email:e,password:t});return r.success&&r.data.token&&localStorage.setItem("token",r.data.token),r},signup:async(e,t,r)=>{let s=await c.post("/api/auth/signup",{email:e,password:t,username:r});return s.success&&s.data.token&&localStorage.setItem("token",s.data.token),s},adminSignup:e=>c.post("/api/auth/admin-signup",e)},problems:{getAll:()=>c.get("/api/problems"),getById:e=>c.get("/api/problems/details-from-storage/".concat(e)),search:e=>c.post("/api/problems/search",{query:e}),fromStorage:()=>c.get("/api/problems/from-storage")},submissions:{submit:e=>c.post("/api/submissions/submit",e,!0),getByUser:e=>c.get("/api/submissions/user/".concat(e),!0),getById:e=>c.get("/api/submissions/".concat(e),!0)},progress:{getByUser:e=>c.get("/api/progress/".concat(e),!0),getLeaderboard:()=>c.get("/api/progress/leaderboard",!0)}}},7009:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(3569),n=r(171);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},2067:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var s=r(3569);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.W,o=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let a=n(t)||n(s);return o[e][a]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,l,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...c}[t]):({...i,...c})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[468,539,531,803,744],function(){return e(e.s=453)}),_N_E=e.O()}]);